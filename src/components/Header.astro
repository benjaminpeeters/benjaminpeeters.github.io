---
import { SITE_TITLE, GITHUB_USERNAME, ORCID, GOOGLE_SCHOLAR_URL } from '../consts';
import HeaderLink from './HeaderLink.astro';
import LanguageSwitcher from './LanguageSwitcher.astro';
import ThemeToggle from './ThemeToggle.astro';
---

<header>
	<nav>
		<h2><a href="/">{SITE_TITLE}</a></h2>
		<div class="internal-links">
			<HeaderLink href="/">Home</HeaderLink>
			<HeaderLink href="/research">Research</HeaderLink>
			<HeaderLink href="/teaching">Teaching</HeaderLink>
			<HeaderLink href="/blog">Blog</HeaderLink>
			<HeaderLink href="/contact">Contact</HeaderLink>
		</div>
		<div class="controls">
			<ThemeToggle />
			<LanguageSwitcher />
		</div>
		<div class="social-links">
			<a href={`https://github.com/${GITHUB_USERNAME}`} target="_blank" title="GitHub">
				<span class="sr-only">GitHub</span>
				<svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32">
					<path
						fill="currentColor"
						d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"
					></path>
				</svg>
			</a>
			<a href={`https://orcid.org/${ORCID}`} target="_blank" title="ORCID">
				<span class="sr-only">ORCID</span>
				<svg viewBox="0 0 256 256" aria-hidden="true" width="32" height="32">
					<path
						fill="#A6CE39"
						d="M256,128c0,70.7-57.3,128-128,128C57.3,256,0,198.7,0,128C0,57.3,57.3,0,128,0C198.7,0,256,57.3,256,128z"
					></path>
					<path
						fill="white"
						d="M86.3,186.2H70.9V79.1h15.4v48.4V186.2z M108.9,79.1h41.6c39.6,0,57,28.3,57,53.6c0,27.5-21.5,53.6-56.8,53.6h-41.8V79.1z M124.3,172.4h24.5c34.9,0,42.9-26.5,42.9-39.7c0-21.5-13.7-39.7-43.7-39.7h-23.7V172.4z M88.7,56.8c0,5.5-4.5,10.1-10.1,10.1c-5.6,0-10.1-4.6-10.1-10.1c0-5.6,4.5-10.1,10.1-10.1C84.2,46.7,88.7,51.3,88.7,56.8z"
					></path>
				</svg>
			</a>
			<a href={GOOGLE_SCHOLAR_URL} target="_blank" title="Google Scholar">
				<span class="sr-only">Google Scholar</span>
				<svg viewBox="0 0 24 24" aria-hidden="true" width="32" height="32">
					<path
						fill="currentColor"
						d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm0 2.4c1.088 0 2.136.184 3.12.528L9.528 8.52c-.704-.288-1.488-.456-2.304-.456-3.312 0-6 2.688-6 6s2.688 6 6 6c2.616 0 4.824-1.68 5.64-4.008h-5.64v-2.4h8.4c.096.528.144 1.08.144 1.656 0 5.28-3.552 9.048-8.544 9.048C4.728 24.36 1.2 20.832 1.2 16.344S4.728 8.328 9.216 8.328c2.112 0 4.008.768 5.496 2.04l-1.68 1.68c-1.008-.96-2.352-1.56-3.816-1.56-3.168 0-5.736 2.568-5.736 5.736s2.568 5.736 5.736 5.736c2.832 0 5.184-2.064 5.64-4.776h-5.64v-2.4h8.4c.096.528.144 1.08.144 1.656 0 5.28-3.552 9.048-8.544 9.048z"
					></path>
				</svg>
			</a>
		</div>
	</nav>
</header>

<style>
	header {
		margin: 0;
		padding: 0 1em;
		background: var(--header-bg);
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
		transition: background-color 0.3s ease;
	}
	h2 {
		margin: 0;
		font-size: 1em;
	}

	h2 a,
	h2 a.active {
		text-decoration: none;
		color: #2d7e3f;
		font-weight: bold;
	}
	nav {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 1rem;
	}
	.internal-links {
		display: flex;
		gap: 0.5rem;
		flex: 1;
	}
	.controls {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin-left: auto;
		margin-right: 1rem;
	}
	nav a {
		padding: 1em 0.5em;
		color: #333;
		border-bottom: 4px solid transparent;
		text-decoration: none;
		transition: border-color 0.3s ease;
	}
	nav a:hover {
		border-bottom-color: #2d7e3f;
	}
	nav a.active {
		text-decoration: none;
		border-bottom-color: #2d7e3f;
	}
	.social-links {
		display: flex;
		gap: 0.5rem;
	}
	.social-links a {
		display: flex;
		align-items: center;
		padding: 0.5em;
		border: none;
	}
	.social-links svg {
		width: 24px;
		height: 24px;
		color: #666;
		transition: color 0.3s ease;
	}
	.social-links a:hover svg {
		color: #2d7e3f;
	}
	@media (max-width: 768px) {
		nav {
			flex-wrap: wrap;
		}
		.internal-links {
			order: 4;
			width: 100%;
			justify-content: center;
			gap: 0.3rem;
			flex: none;
		}
		.controls {
			order: 2;
			margin-left: 0.5rem;
			margin-right: 0.5rem;
		}
		.social-links {
			order: 3;
			gap: 0.3rem;
		}
		nav a {
			padding: 0.5em 0.3em;
			font-size: 0.9em;
		}
	}
</style>
